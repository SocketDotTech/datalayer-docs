"use strict";(self.webpackChunkdatalayer_docs=self.webpackChunkdatalayer_docs||[]).push([[9610],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>g});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),u=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},d=function(e){var t=u(e.components);return a.createElement(s.Provider,{value:t},e.children)},c="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),c=u(n),m=r,g=c["".concat(s,".").concat(m)]||c[m]||p[m]||o;return n?a.createElement(g,l(l({ref:t},d),{},{components:n})):a.createElement(g,l({ref:t},d))}));function g(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,l=new Array(o);l[0]=m;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i[c]="string"==typeof e?e:r,l[1]=i;for(var u=2;u<o;u++)l[u]=n[u];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},9e3:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>p,frontMatter:()=>o,metadata:()=>i,toc:()=>u});var a=n(7462),r=(n(7294),n(3905));const o={id:"sending",title:"Sending messages",sidebar_position:2},l=void 0,i={unversionedId:"Build/contract-setup/sending",id:"Build/contract-setup/sending",title:"Sending messages",description:"Outbound method on the Socket contract deployed on all networks allows Plugs to send messages to other Plugs across chains. Checkout the below section to understand how to use it. If you want to read more on how sending messages in Socket works, read more here.",source:"@site/docs/Build/contract-setup/sending.md",sourceDirName:"Build/contract-setup",slug:"/Build/contract-setup/sending",permalink:"/Build/contract-setup/sending",draft:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{id:"sending",title:"Sending messages",sidebar_position:2},sidebar:"defaultSidebar",previous:{title:"Configuring Plugs",permalink:"/Build/contract-setup/configuring-plugs"},next:{title:"Receiving messages",permalink:"/Build/contract-setup/receiving"}},s={},u=[{value:"Parameters",id:"parameters",level:2},{value:"Sending your message",id:"sending-your-message",level:2}],d={toc:u},c="wrapper";function p(e){let{components:t,...n}=e;return(0,r.kt)(c,(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Outbound")," method on the Socket contract deployed on all networks allows Plugs to send messages to other Plugs across chains. Checkout the below section to understand how to use it. If you want to read more on how sending messages in Socket works, ",(0,r.kt)("a",{parentName:"p",href:"/Learn/lifecycle#sending-a-message"},"read more here"),"."),(0,r.kt)("h2",{id:"parameters"},"Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameters"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"remoteChainSlug"),(0,r.kt)("td",{parentName:"tr",align:null},"ChainSlug of the network where you want to send your message to")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"payload"),(0,r.kt)("td",{parentName:"tr",align:null},"The message you want to send to the plug on remoteChainSlug")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"msgGasLimit"),(0,r.kt)("td",{parentName:"tr",align:null},"gasLimit required to execute the ",(0,r.kt)("inlineCode",{parentName:"td"},"payload")," on remoteChainSlug")))),(0,r.kt)("p",null,"In order to pay for cross-chain execution, you call the outbound function with the msg.value representing the amount of fees you want to pay. You can estimate the minimum amount of fees via the methods outlined here."),(0,r.kt)("h2",{id:"sending-your-message"},"Sending your message"),(0,r.kt)("p",null,"Make sure you have connected your Plugs on both chains to each other before you call the outbound method\nEquipped with the payload we want to send, we can now call the outbound on Socket, below is a quick example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'    // Get Socket address from the deployments page for your network\n    ISocket socket = ISocket(_address);\n\n    // THIS IS NOT AN ACTUAL SLUG, please get the right slug from the deployments page\n    uint32 remoteChainSlug = 1333;\n    uint32 defaultGasLimit = 1000000;\n\n    // send hello world to the sibling Plug we configured on chainSlug:1333\n    function SendHelloWorld(\n    ) external payable {\n        bytes memory payload = abi.encode("Hello World");\n        // msg.value should be equal to the minFees\n        socket.outbound{value: msg.value}(remoteChainSlug, defaultGasLimit, bytes32(0), bytes32(0), payload);\n    }\n')),(0,r.kt)("p",null,"Once the tx is finalised:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"An event ",(0,r.kt)("inlineCode",{parentName:"li"},"MessageOutbound")," is emitted by Socket containing all relevant details."),(0,r.kt)("li",{parentName:"ul"},"Your message will be allocated a unique ID called (",(0,r.kt)("inlineCode",{parentName:"li"},"msgId"),") you can look it up in the ",(0,r.kt)("inlineCode",{parentName:"li"},"MessageOutbound")," log")),(0,r.kt)("p",null,"You can use the tx-hash to track the delivery and execution on the destination chain via ",(0,r.kt)("a",{parentName:"p",href:"/dev-resources/APIReference/track-status"},"this API"),"."))}p.isMDXComponent=!0}}]);